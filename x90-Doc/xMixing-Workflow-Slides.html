<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>xMixing Control Process â€” Workflow</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#0a0a1a;color:#e0e0f0;overflow:hidden;height:100vh}
.slide{display:none;width:100vw;height:100vh;padding:60px 80px;flex-direction:column;justify-content:center;position:relative}
.slide.active{display:flex}
.slide::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;z-index:0}

/* Backgrounds */
.bg-gradient-1::before{background:linear-gradient(135deg,#0f0c29,#302b63,#24243e)}
.bg-gradient-2::before{background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460)}
.bg-gradient-3::before{background:linear-gradient(135deg,#0d1b2a,#1b2838,#2d4059)}
.bg-gradient-4::before{background:linear-gradient(135deg,#1a0a2e,#2d1b69,#11998e20)}
.bg-gradient-5::before{background:linear-gradient(135deg,#0a192f,#172a45,#1e3a5f)}
.bg-gradient-6::before{background:linear-gradient(135deg,#1b1b2f,#162447,#1f4068)}
.bg-gradient-7::before{background:linear-gradient(135deg,#0c0c1d,#1a1a3e,#2a2a5e)}
.bg-gradient-8::before{background:linear-gradient(135deg,#0d1117,#161b22,#21262d)}
.bg-gradient-9::before{background:linear-gradient(135deg,#0f2027,#203a43,#2c5364)}

.slide>*{position:relative;z-index:1}
h1{font-size:3.2rem;font-weight:800;margin-bottom:16px;background:linear-gradient(135deg,#60a5fa,#a78bfa,#f472b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
h2{font-size:2.4rem;font-weight:700;margin-bottom:24px;color:#93c5fd}
h3{font-size:1.4rem;font-weight:600;color:#a5b4fc;margin-bottom:12px}
p{font-size:1.15rem;line-height:1.7;color:#c4c8e0;max-width:900px}
.subtitle{font-size:1.5rem;color:#94a3b8;font-weight:300;margin-bottom:32px}
.badge{display:inline-block;padding:6px 16px;border-radius:20px;font-size:.85rem;font-weight:600;margin:4px}
.badge-blue{background:rgba(59,130,246,.2);color:#60a5fa;border:1px solid rgba(59,130,246,.3)}
.badge-green{background:rgba(16,185,129,.2);color:#34d399;border:1px solid rgba(16,185,129,.3)}
.badge-purple{background:rgba(139,92,246,.2);color:#a78bfa;border:1px solid rgba(139,92,246,.3)}
.badge-amber{background:rgba(245,158,11,.2);color:#fbbf24;border:1px solid rgba(245,158,11,.3)}

.grid{display:grid;gap:20px;margin-top:20px}
.grid-2{grid-template-columns:1fr 1fr}
.grid-3{grid-template-columns:1fr 1fr 1fr}
.card{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:24px;backdrop-filter:blur(10px);transition:transform .3s}
.card:hover{transform:translateY(-4px)}
.card-icon{font-size:2rem;margin-bottom:12px}
.card h3{margin-bottom:8px}
.card p{font-size:.95rem;color:#9ca3c0}

.flow-row{display:flex;align-items:center;gap:12px;margin:8px 0;flex-wrap:wrap}
.flow-step{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:14px 20px;font-size:.95rem;font-weight:500;min-width:140px;text-align:center}
.flow-arrow{color:#60a5fa;font-size:1.4rem;font-weight:700}
.flow-step.active-step{background:rgba(59,130,246,.15);border-color:rgba(59,130,246,.4);color:#93c5fd}

.arch-box{border:2px solid rgba(255,255,255,.1);border-radius:16px;padding:20px;text-align:center}
.arch-box.frontend{border-color:rgba(96,165,250,.4);background:rgba(96,165,250,.08)}
.arch-box.backend{border-color:rgba(52,211,153,.4);background:rgba(52,211,153,.08)}
.arch-box.mqtt{border-color:rgba(251,191,36,.4);background:rgba(251,191,36,.08)}
.arch-box.db{border-color:rgba(167,139,250,.4);background:rgba(167,139,250,.08)}

.nav{position:fixed;bottom:30px;right:40px;display:flex;gap:12px;z-index:100}
.nav button{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.15);color:#e0e0f0;padding:10px 20px;border-radius:10px;cursor:pointer;font-family:'Inter';font-size:.9rem;font-weight:500;transition:all .2s}
.nav button:hover{background:rgba(255,255,255,.2)}
.progress{position:fixed;bottom:0;left:0;height:3px;background:linear-gradient(90deg,#60a5fa,#a78bfa,#f472b6);transition:width .4s;z-index:100}
.page-num{position:fixed;bottom:34px;left:40px;color:#64748b;font-size:.85rem;z-index:100}

table{width:100%;border-collapse:collapse;margin-top:16px;font-size:.9rem}
th{text-align:left;padding:10px 14px;background:rgba(255,255,255,.06);color:#93c5fd;font-weight:600;border-bottom:2px solid rgba(255,255,255,.1)}
td{padding:10px 14px;border-bottom:1px solid rgba(255,255,255,.05);color:#c4c8e0}
tr:hover td{background:rgba(255,255,255,.03)}
.emoji{font-size:1.3rem}
ul{list-style:none;padding:0}
ul li{padding:8px 0;font-size:1rem;color:#c4c8e0}
ul li::before{content:'â–¸ ';color:#60a5fa;font-weight:700}
</style>
</head>
<body>

<!-- Slide 1: Title -->
<div class="slide bg-gradient-1 active" id="s1">
  <div>
    <span class="badge badge-blue">Mitr Phol Group</span>
    <span class="badge badge-green">v1.0.0</span>
  </div>
  <h1 style="font-size:4rem;margin-top:24px">xMixing Control Process</h1>
  <p class="subtitle">Batch Mixing Control System â€” Full Project Workflow</p>
  <p>A comprehensive manufacturing batch control system covering the full lifecycle from raw material intake â†’ recipe setup â†’ production planning â†’ pre-batch weighing â†’ packing â†’ QC recheck.</p>
  <div style="margin-top:40px">
    <span class="badge badge-purple">Nuxt 4 + Vue 3</span>
    <span class="badge badge-green">FastAPI + Python</span>
    <span class="badge badge-amber">RabbitMQ + MQTT</span>
    <span class="badge badge-blue">MySQL / MariaDB</span>
  </div>
</div>

<!-- Slide 2: Architecture -->
<div class="slide bg-gradient-2" id="s2">
  <h2>ğŸ—ï¸ System Architecture</h2>
  <div class="grid grid-3" style="margin-top:12px">
    <div class="arch-box frontend">
      <div class="card-icon">ğŸ’»</div>
      <h3>Frontend</h3>
      <p style="font-size:.85rem">Nuxt 4 + Vue 3 + Quasar UI<br>Port: 3000</p>
      <div style="margin-top:10px"><span class="badge badge-blue">TypeScript</span></div>
    </div>
    <div class="arch-box backend">
      <div class="card-icon">âš™ï¸</div>
      <h3>Backend API</h3>
      <p style="font-size:.85rem">FastAPI + SQLAlchemy<br>Port: 8001</p>
      <div style="margin-top:10px"><span class="badge badge-green">Python</span></div>
    </div>
    <div class="arch-box mqtt">
      <div class="card-icon">ğŸ“¡</div>
      <h3>IoT / MQTT</h3>
      <p style="font-size:.85rem">RabbitMQ + Node-RED<br>Scale & Scanner Readers</p>
      <div style="margin-top:10px"><span class="badge badge-amber">Docker</span></div>
    </div>
  </div>
  <div class="grid grid-2" style="margin-top:16px">
    <div class="arch-box db">
      <div class="card-icon">ğŸ—„ï¸</div>
      <h3>Database</h3>
      <p style="font-size:.85rem">MySQL/MariaDB â€” Remote hosted<br>SQLAlchemy ORM with 20+ tables</p>
    </div>
    <div class="arch-box" style="border-color:rgba(244,114,182,.4);background:rgba(244,114,182,.08)">
      <div class="card-icon">ğŸ–¨ï¸</div>
      <h3>Peripherals</h3>
      <p style="font-size:.85rem">TSC TE210 Label Printer<br>Barcode Scanner + Weighing Scale</p>
    </div>
  </div>
</div>

<!-- Slide 3: Business Flow -->
<div class="slide bg-gradient-3" id="s3">
  <h2>ğŸ”„ Business Workflow Overview</h2>
  <div class="flow-row" style="margin-top:20px;justify-content:center">
    <div class="flow-step active-step">1ï¸âƒ£ Ingredient<br>Intake</div>
    <div class="flow-arrow">â†’</div>
    <div class="flow-step active-step">2ï¸âƒ£ SKU / Recipe<br>Setup</div>
    <div class="flow-arrow">â†’</div>
    <div class="flow-step active-step">3ï¸âƒ£ Production<br>Planning</div>
    <div class="flow-arrow">â†’</div>
    <div class="flow-step active-step">4ï¸âƒ£ Pre-Batch<br>Weighing</div>
    <div class="flow-arrow">â†’</div>
    <div class="flow-step active-step">5ï¸âƒ£ Packing<br>List</div>
    <div class="flow-arrow">â†’</div>
    <div class="flow-step active-step">6ï¸âƒ£ Batch<br>Recheck</div>
  </div>
  <div class="grid grid-3" style="margin-top:32px">
    <div class="card"><div class="card-icon">ğŸ“¥</div><h3>Intake (x10)</h3><p>Receive raw materials, QC inspect, approve & store in warehouse</p></div>
    <div class="card"><div class="card-icon">ğŸ“‹</div><h3>SKU Setup (x20)</h3><p>Define product formulas, recipe steps, batch sizes & ingredients</p></div>
    <div class="card"><div class="card-icon">ğŸ“Š</div><h3>Planning (x30)</h3><p>Create production plans, auto-generate batches & calculate requirements</p></div>
  </div>
  <div class="grid grid-3" style="margin-top:4px">
    <div class="card"><div class="card-icon">âš–ï¸</div><h3>Pre-Batch (x40)</h3><p>Weigh ingredients via scale, print QR labels, record bags per warehouse</p></div>
    <div class="card"><div class="card-icon">ğŸ“¦</div><h3>Packing (x50)</h3><p>Scan bags into packing boxes, validate correct batch, track status</p></div>
    <div class="card"><div class="card-icon">âœ…</div><h3>Recheck (x60)</h3><p>QC verify all ingredients, scan & confirm each bag, approve for mixing</p></div>
  </div>
</div>

<!-- Slide 4: Step 1 - Ingredient Intake -->
<div class="slide bg-gradient-4" id="s4">
  <h2>1ï¸âƒ£ Ingredient Intake</h2>
  <p class="subtitle">x10-IngredientIntake.vue â†’ Receive & inspect raw materials</p>
  <div class="grid grid-2">
    <div>
      <ul>
        <li>Receive raw materials from suppliers</li>
        <li>Create intake lot (lot_id, supplier, ingredient)</li>
        <li>Record package weights per delivery</li>
        <li>QC Inspection â†’ Approve / Reject / Hold</li>
        <li>Track ingredient source & SAP codes</li>
        <li>Store in designated warehouse (FH / SPP)</li>
      </ul>
    </div>
    <div class="card">
      <h3>Key Tables</h3>
      <table>
        <tr><td class="emoji">ğŸ“‹</td><td><b>ingredient_intake_lists</b></td><td>Lot tracking</td></tr>
        <tr><td class="emoji">ğŸ“¦</td><td><b>intake_package_receive</b></td><td>Per-package weights</td></tr>
        <tr><td class="emoji">ğŸ“œ</td><td><b>ingredient_intake_history</b></td><td>Status audit trail</td></tr>
        <tr><td class="emoji">ğŸ§ª</td><td><b>ingredients</b></td><td>Master catalogue</td></tr>
      </table>
    </div>
  </div>
</div>

<!-- Slide 5: Step 2 - SKU Setup -->
<div class="slide bg-gradient-5" id="s5">
  <h2>2ï¸âƒ£ SKU / Recipe Setup</h2>
  <p class="subtitle">x20-Sku.vue â†’ Define product formulas & recipe steps</p>
  <div class="grid grid-2">
    <div>
      <ul>
        <li>Define SKU master (name, code, batch size)</li>
        <li>Add recipe steps with phases & actions</li>
        <li>Map ingredients to each step with volumes</li>
        <li>Set temperatures, timing, destinations</li>
        <li>Group SKUs by product category</li>
        <li>Database views for denormalized export</li>
      </ul>
    </div>
    <div class="card">
      <h3>Key Tables</h3>
      <table>
        <tr><td class="emoji">ğŸ“¦</td><td><b>sku_masters</b></td><td>Product definition</td></tr>
        <tr><td class="emoji">ğŸ“</td><td><b>sku_steps</b></td><td>Recipe steps (30+ fields)</td></tr>
        <tr><td class="emoji">ğŸ¯</td><td><b>sku_actions</b></td><td>Action codes</td></tr>
        <tr><td class="emoji">ğŸ”„</td><td><b>sku_phases</b></td><td>Phase definitions</td></tr>
        <tr><td class="emoji">ğŸ“‚</td><td><b>sku_groups</b></td><td>Product groups</td></tr>
      </table>
    </div>
  </div>
</div>

<!-- Slide 6: Step 3 & 4 -->
<div class="slide bg-gradient-6" id="s6">
  <h2>3ï¸âƒ£ Production Planning â†’ 4ï¸âƒ£ Pre-Batch</h2>
  <div class="grid grid-2">
    <div class="card">
      <div class="card-icon">ğŸ“Š</div>
      <h3>Production Plan (x30)</h3>
      <ul>
        <li>Select SKU & number of batches</li>
        <li>Auto-generate batch IDs</li>
        <li>Calculate ingredient requirements</li>
        <li>Status: Created â†’ In Progress â†’ Done</li>
      </ul>
      <div style="margin-top:12px">
        <span class="badge badge-blue">production_plans</span>
        <span class="badge badge-blue">production_batches</span>
      </div>
    </div>
    <div class="card">
      <div class="card-icon">âš–ï¸</div>
      <h3>Pre-Batch Weighing (x40)</h3>
      <ul>
        <li>View requirements per batch</li>
        <li>Weigh via connected MQTT scale</li>
        <li>Print QR label (TSC printer)</li>
        <li>Record: re_code, volume, warehouse</li>
        <li>Track bag origins (prebatch_rec_from)</li>
      </ul>
      <div style="margin-top:12px">
        <span class="badge badge-green">prebatch_reqs</span>
        <span class="badge badge-green">prebatch_recs</span>
      </div>
    </div>
  </div>
</div>

<!-- Slide 7: Step 5 & 6 -->
<div class="slide bg-gradient-7" id="s7">
  <h2>5ï¸âƒ£ Packing List â†’ 6ï¸âƒ£ Batch Recheck</h2>
  <div class="grid grid-2">
    <div class="card">
      <div class="card-icon">ğŸ“¦</div>
      <h3>Packing List (x50)</h3>
      <ul>
        <li>3-panel layout: Plans | Warehouse | Packing</li>
        <li>Scan/select batch to open packing box</li>
        <li>Scan bags â†’ validate against batch</li>
        <li>âœ… Correct = packed | âŒ Wrong = alert</li>
        <li>Sound effects for scan feedback</li>
        <li>Close box â†’ "Ready to Transfer"</li>
      </ul>
      <div style="margin-top:8px">
        <span class="badge badge-amber">FH Warehouse</span>
        <span class="badge badge-green">SPP Warehouse</span>
      </div>
    </div>
    <div class="card">
      <div class="card-icon">âœ…</div>
      <h3>Batch Recheck (x60)</h3>
      <ul>
        <li>QC inspector verifies batch contents</li>
        <li>Scan each bag vs. requirements</li>
        <li>Confirm ingredients match formula</li>
        <li>Final approval for production/mixing</li>
      </ul>
      <div style="margin-top:8px">
        <span class="badge badge-purple">Quality Control</span>
      </div>
    </div>
  </div>
</div>

<!-- Slide 8: IoT -->
<div class="slide bg-gradient-8" id="s8">
  <h2>ğŸ“¡ IoT & MQTT Integration</h2>
  <div class="grid grid-2" style="margin-top:10px">
    <div>
      <div class="card" style="margin-bottom:16px">
        <h3>ğŸ³ Docker Services</h3>
        <table>
          <tr><td><b>RabbitMQ</b></td><td>MQTT Broker (:1883), WebSocket (:15675)</td></tr>
          <tr><td><b>Node-RED</b></td><td>Flow-based IoT logic (:1880)</td></tr>
        </table>
      </div>
      <div class="card">
        <h3>ğŸ”§ Equipment Readers</h3>
        <table>
          <tr><td><b>scale_read.py</b></td><td>Serial â†’ MQTT scale data</td></tr>
          <tr><td><b>scanner_read.py</b></td><td>Serial â†’ MQTT barcode scans</td></tr>
        </table>
      </div>
    </div>
    <div class="card">
      <h3>Data Flow</h3>
      <div style="font-family:monospace;font-size:.85rem;line-height:2;color:#94a3b8;margin-top:12px">
        Physical Scale<br>
        &nbsp;&nbsp;â””â”€ serial â”€â†’ scale_read.py<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â””â”€ publish â”€â†’ RabbitMQ<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â””â”€ MQTT/WS â”€â†’ Nuxt App<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â””â”€ useMqttLocalDevice()<br><br>
        Barcode Scanner<br>
        &nbsp;&nbsp;â””â”€ serial â”€â†’ scanner_read.py<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â””â”€ publish â”€â†’ RabbitMQ<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â””â”€ MQTT/WS â”€â†’ Nuxt App
      </div>
    </div>
  </div>
</div>

<!-- Slide 9: Frontend Pages -->
<div class="slide bg-gradient-9" id="s9">
  <h2>ğŸ–¥ï¸ Frontend Pages & API Routes</h2>
  <div class="grid grid-2">
    <div class="card">
      <h3>Pages (Nuxt 4)</h3>
      <table>
        <tr><td>x10</td><td>Ingredient Intake</td><td class="badge badge-green" style="font-size:.7rem">Core</td></tr>
        <tr><td>x20</td><td>SKU / Recipe Management</td><td class="badge badge-green" style="font-size:.7rem">Core</td></tr>
        <tr><td>x30</td><td>Production Planning</td><td class="badge badge-green" style="font-size:.7rem">Core</td></tr>
        <tr><td>x40</td><td>Pre-Batch Weighing</td><td class="badge badge-green" style="font-size:.7rem">Core</td></tr>
        <tr><td>x50</td><td>Packing List</td><td class="badge badge-green" style="font-size:.7rem">Core</td></tr>
        <tr><td>x60</td><td>Batch Recheck</td><td class="badge badge-green" style="font-size:.7rem">Core</td></tr>
        <tr><td>x80</td><td>Login / Register</td><td class="badge badge-blue" style="font-size:.7rem">Auth</td></tr>
        <tr><td>x90</td><td>System Dashboard</td><td class="badge badge-purple" style="font-size:.7rem">Admin</td></tr>
      </table>
    </div>
    <div class="card">
      <h3>API Routers (FastAPI)</h3>
      <table>
        <tr><td>/auth/*</td><td>Login, Register, JWT</td></tr>
        <tr><td>/ingredients/*</td><td>Ingredient CRUD & intake</td></tr>
        <tr><td>/skus/*</td><td>SKU, steps, actions, phases</td></tr>
        <tr><td>/production-plans/*</td><td>Plans & batches</td></tr>
        <tr><td>/prebatch-reqs/*</td><td>Batch requirements</td></tr>
        <tr><td>/prebatch-recs/*</td><td>Batch records & packing</td></tr>
        <tr><td>/warehouses/*</td><td>Warehouse management</td></tr>
        <tr><td>/translations/*</td><td>i18n support</td></tr>
      </table>
    </div>
  </div>
</div>

<!-- Slide 10: Thank You -->
<div class="slide bg-gradient-1" id="s10">
  <div style="text-align:center">
    <h1 style="font-size:3.5rem">Thank You</h1>
    <p class="subtitle" style="max-width:100%">xMixing Control Process â€” Mitr Phol Group</p>
    <div style="margin-top:40px">
      <span class="badge badge-blue">Backend: :8001/docs</span>
      <span class="badge badge-green">Frontend: :3000</span>
      <span class="badge badge-amber">MQTT: :1883</span>
      <span class="badge badge-purple">Node-RED: :1880</span>
    </div>
    <p style="margin-top:40px;color:#64748b;max-width:100%;text-align:center">
      Press â† â†’ or click buttons to navigate &nbsp;|&nbsp; Built by xDev Team
    </p>
  </div>
</div>

<!-- Navigation -->
<div class="nav">
  <button onclick="prev()">â† Prev</button>
  <button onclick="next()">Next â†’</button>
</div>
<div class="progress" id="progress"></div>
<div class="page-num" id="pageNum"></div>

<script>
let current=0;
const slides=document.querySelectorAll('.slide');
const total=slides.length;

function show(n){
  slides.forEach(s=>s.classList.remove('active'));
  current=Math.max(0,Math.min(n,total-1));
  slides[current].classList.add('active');
  document.getElementById('progress').style.width=((current+1)/total*100)+'%';
  document.getElementById('pageNum').textContent=(current+1)+' / '+total;
}
function next(){show(current+1)}
function prev(){show(current-1)}
document.addEventListener('keydown',e=>{
  if(e.key==='ArrowRight'||e.key===' ')next();
  if(e.key==='ArrowLeft')prev();
});
show(0);
</script>
</body>
</html>
